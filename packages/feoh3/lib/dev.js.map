{
  "version": 3,
  "sources": ["../src/cli/dev.ts"],
  "sourcesContent": ["import Koa from 'koa';\r\nimport { createServer } from 'vite';\r\nimport connect from 'koa-connect';\r\nimport getApis from \"./utils/getApis\";\r\nimport text from './utils/text';\r\nimport log from './utils/formatLog';\r\n\r\nexport default () => {\r\n    log(`${text.logo}   ${text.dev}`);\r\n    async function startServer() {\r\n        const app = new Koa();\r\n    \r\n        // \u521B\u5EFAVite\u5B9E\u4F8B\r\n        const vite = await createServer({\r\n            // Vite\u7684\u914D\u7F6E\u9009\u9879\r\n            configFile: './src/frontend/vite.config.ts',\r\n            root: './src/frontend/',\r\n            server: { middlewareMode: true },\r\n        });\r\n    \r\n        // \u4F7F\u7528koa-connect\u5C06Vite\u4E2D\u95F4\u4EF6\u8F6C\u6362\u4E3AKoa\u4E2D\u95F4\u4EF6\r\n        app.use(connect(vite.middlewares));\r\n        const apis = await getApis();\r\n        // \u542F\u52A8Koa\u670D\u52A1\u5668\r\n        app.listen(3000, () => {\r\n            log(text.tip(`Server: ${text.url(\"http://localhost:3000\")}`));\r\n            log(text.tip(`Loaded ${text.num(apis.length)} Apis!`));\r\n            log(text.tip(`Backend ${text.hot(\"HOT\")} Reload is ready!`));\r\n            process.exit()\r\n        });\r\n    }\r\n    startServer();\r\n}"],
  "mappings": "uwBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAgB,kBAChBC,EAA6B,gBAC7BC,EAAoB,0BACpBC,EAAoB,8BACpBC,EAAiB,2BACjBC,EAAgB,gCAETC,EAAQ,IAAM,IACjB,EAAAC,SAAI,GAAG,EAAAC,QAAK,UAAU,EAAAA,QAAK,KAAK,EAChC,SAAeC,GAAc,QAAAC,EAAA,sBACzB,MAAMC,EAAM,IAAI,EAAAC,QAGVC,EAAO,QAAM,gBAAa,CAE5B,WAAY,gCACZ,KAAM,kBACN,OAAQ,CAAE,eAAgB,EAAK,CACnC,CAAC,EAGDF,EAAI,OAAI,EAAAG,SAAQD,EAAK,WAAW,CAAC,EACjC,MAAME,EAAO,QAAM,EAAAC,SAAQ,EAE3BL,EAAI,OAAO,IAAM,IAAM,IACnB,EAAAJ,SAAI,EAAAC,QAAK,IAAI,WAAW,EAAAA,QAAK,IAAI,uBAAuB,GAAG,CAAC,KAC5D,EAAAD,SAAI,EAAAC,QAAK,IAAI,UAAU,EAAAA,QAAK,IAAIO,EAAK,MAAM,SAAS,CAAC,KACrD,EAAAR,SAAI,EAAAC,QAAK,IAAI,WAAW,EAAAA,QAAK,IAAI,KAAK,oBAAoB,CAAC,EAC3D,QAAQ,KAAK,CACjB,CAAC,CACL,GACAC,EAAY,CAChB",
  "names": ["dev_exports", "__export", "dev_default", "__toCommonJS", "import_koa", "import_vite", "import_koa_connect", "import_getApis", "import_text", "import_formatLog", "dev_default", "log", "text", "startServer", "__async", "app", "Koa", "vite", "connect", "apis", "getApis"]
}
